[[annex_g]]
[appendix,obligation="informative"]
== Example CityGML datasets

The following chapters provide example CityGML models and excerpts of the
corresponding CityGML instance documents. In <<a_G-1>> to <<a_G-6>>, a single
CityGML building is subsequently illustrated and refined from a coarse LOD0
representation up to a semantically rich and geometric-topologically sound LOD4
model including the building interior. The model exemplifies concepts from the
CityGML _Building_ module and demonstrates the coherent modelling of semantics
and geometric/topological properties. In <<a_G-7>>, the building and its
surrounding terrain are enriched with visual appearance information to show the
usage of the CityGML _Appearance_ module. A further example for the _Appearance_
module is presented in <<a_G-8>> illustrating the texturing of polygons with
inner holes. Finally, the use of a local engineering coordinate reference system
in CityGML is illustrated in <<a_G-9>>.

All CityGML instance documents contained in this annex are bundled with the
CityGML schema package, and are available at
http://schemas.opengis.net/citygml/examples/2.0/[http://schemas.opengis.net/citygml/examples/2.0/].


[[a_G-1]]
=== Example of a CityGML dataset for a building in LOD0

The first example illustrates a CityGML building in LOD0 surrounded by a terrain
model represented as LOD0 Triangulated Irregular Network (_dem:TINRefief_). Both
a footprint and a roof edge representation is assigned to the building
(_bldg:lod0FootPrint_ and _bldg:lod0RoofEdge_). The geometry is given as
_gml:MultiSurface_ following the conformance requirement no. 2. of the
_Building_ module (cf. <<scls_10-3-9>>) according to which the height values of
all 3D coordinate tuples belonging to the same surface must be identical (which
results in horizontal surfaces). The footprint (painted in dark blue) is located
at the lowest elevation of the building whereas the roof egde representation
(painted in light cyan) is at roof level (eaves height) and hence is floating
over the terrain. The building is assigned address information using the xAL
address schema. The left side of <<fig_75>> visualizes the LOD0 model, whereas
the hierarchy of the contained semantic entities is depicted on the right.



[[fig_75]]
.Example of a CityGML building model (footprint and roof edge) and a terrain model in LOD0. The footprint (painted in dark blue) is located at the lowest elevation of the building whereas the roof egde representation (painted in light cyan) is at roof level (eaves height) and hence floating over the terrain.
====
.3D graphic
image::189.gif[Shape26]

.model hierachy
image::190.png["",293,213]
====


[[listing_3]]
.Excerpt from the CityGML dataset for a building in LOD0 visualised in <<fig_75>>.
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<CityModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://www.opengis.net/citygml/2.0"
	xmlns:gml="http://www.opengis.net/gml"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:bldg="http://www.opengis.net/citygml/building/2.0"
	xmlns:dem="http://www.opengis.net/citygml/relief/2.0"
	xmlns:xAL="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"
	xsi:schemaLocation="http://www.opengis.net/citygml/building/2.0 http://schemas.opengis.net/citygml/building/2.0/building.xsd
											    http://www.opengis.net/citygml/relief/2.0 http://schemas.opengis.net/citygml/relief/2.0/relief.xsd ">
	<gml:name>Simple 3D city model LOD0 without Appearance</gml:name>
	<gml:boundedBy>
		<gml:Envelope srsDimension="3" srsName="urn:ogc:def:crs,crs:EPSG::25832,crs:EPSG::5783">
			<gml:lowerCorner>458868.0 5438343.0 112.0</gml:lowerCorner>
			<gml:upperCorner>458892.0 5438362.0 117.0</gml:upperCorner>
		</gml:Envelope>
	</gml:boundedBy>
	<cityObjectMember>
		<bldg:Building gml:id="GML_7b1a5a6f-ddad-4c3d-a507-3eb9ee0a8e68">
			<gml:name>Example Building LOD0 </gml:name>
			<bldg:function
					codeSpace="http://www.sig3d.org/codelists/standard/building/2.0/_AbstractBuilding_function.xml">1000</bldg:function>
			<bldg:yearOfConstruction>1985</bldg:yearOfConstruction>
			<bldg:roofType
					codeSpace="http://www.sig3d.org/codelists/standard/building/2.0/_AbstractBuilding_roofType.xml">1030</bldg:roofType>
			<bldg:measuredHeight uom="#m">5.0</bldg:measuredHeight>
			<bldg:storeysAboveGround>1</bldg:storeysAboveGround>
			<bldg:storeyHeightsAboveGround uom="#m">3.0</bldg:storeyHeightsAboveGround>
			<bldg:lod0FootPrint>
				<gml:MultiSurface>
					<gml:surfaceMember>
						<gml:Polygon>
							<gml:exterior>
								<gml:LinearRing>
									<gml:posList>458875.0 5438350.0 112.0 458885.0 5438350.0 112.0 458885.0 5438355.0 112.0 458875.0
										5438355.0 112.0 458875.0 5438350.0 112.0 </gml:posList>
								</gml:LinearRing>
							</gml:exterior>
						</gml:Polygon>
					</gml:surfaceMember>
				</gml:MultiSurface>
			</bldg:lod0FootPrint>
			<bldg:lod0RoofEdge>
				<gml:MultiSurface>
					<gml:surfaceMember>
						<gml:Polygon>
							<gml:exterior>
								<gml:LinearRing>
									<gml:posList>458874.6 5438355.312347524 115.0 458874.6 5438349.687652476 115.0 458885.4 5438349.687652476
										115.0 458885.4 5438355.312347524 115.0 458874.6 5438355.312347524 115.0 </gml:posList>
								</gml:LinearRing>
							</gml:exterior>
						</gml:Polygon>
					</gml:surfaceMember>
				</gml:MultiSurface>
			</bldg:lod0RoofEdge>
			<bldg:address>
				<Address>
					<xalAddress>
						<xAL:AddressDetails>
							<xAL:Country>
								<xAL:CountryName>Germany</xAL:CountryName>
								<xAL:Locality Type="Town">
									<xAL:LocalityName>Eggenstein-Leopoldshafen</xAL:LocalityName>
									<xAL:Thoroughfare Type="Street">
										<xAL:ThoroughfareNumber>1</xAL:ThoroughfareNumber>
										<xAL:ThoroughfareName>Hermann-von-Helmholtz-Platz</xAL:ThoroughfareName>
									</xAL:Thoroughfare>
									<xAL:PostalCode>
										<xAL:PostalCodeNumber>76344</xAL:PostalCodeNumber>
									</xAL:PostalCode>
								</xAL:Locality>
							</xAL:Country>
						</xAL:AddressDetails>
					</xalAddress>
					<multiPoint>
						<gml:MultiPoint>
							<gml:pointMember>
								<gml:Point>
									<gml:pos srsDimension="3">458880.0 5438352.6 112.0 </gml:pos>
								</gml:Point>
							</gml:pointMember>
						</gml:MultiPoint>
					</multiPoint>
				</Address>
			</bldg:address>
		</bldg:Building>
	</cityObjectMember>
	<cityObjectMember>
		<dem:ReliefFeature gml:id="GML_6bb30328-7599-4500-90ef-766fde6aa67b">
			<gml:name>Example TIN LOD0</gml:name>
			<dem:lod>0</dem:lod>
			<dem:reliefComponent>
				<dem:TINRelief gml:id="GUID_04D4DsNGv1MfvYu5O3lkcW">
					<gml:name>Ground</gml:name>
					<dem:lod>0</dem:lod>
					<dem:tin>
						<gml:TriangulatedSurface gml:id="ground">
							<gml:trianglePatches>
								<gml:Triangle>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458868 5438362 112 458875 5438355 112 458883 5438362 114 458868 5438362 112 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Triangle>
								...
							</gml:trianglePatches>
						</gml:TriangulatedSurface>
					</dem:tin>
				</dem:TINRelief>
			</dem:reliefComponent>
		</dem:ReliefFeature>
	</cityObjectMember>
</CityModel>
----


[[a_G-2]]
=== Example of a CityGML dataset for a building in LOD1

The following <<fig_76>> shows both the building and the terrain model in LOD1.
The building is represented as block model. Its geometry is described by a solid
(_gml:Solid_) whose exterior shell is bounded by six surfaces (_gml:Polygon_).
In addition to the geometry, the building is enriched with further thematic
attributes. Some of these attributes are enumerative and demonstrate the usage
of the CityGML _code list_ mechanism (cf. <<scls_10-14>>). The coded attribute
values are taken from the code lists proposed by the SIG 3D (cf. <<annex_c>>).



[[fig_76]]
.Example of a CityGML building model in LOD1.
====
.3D graphic
image::191.png["",373,254]

.model hierachy
image::192.png["",319,213]
====


[[listing_4]]
.Excerpt from the CityGML dataset for a building in LOD1 visualised in <<fig_76>>.
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<CityModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://www.opengis.net/citygml/2.0"
	xmlns:gml="http://www.opengis.net/gml"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:bldg="http://www.opengis.net/citygml/building/2.0"
	xmlns:dem="http://www.opengis.net/citygml/relief/2.0"
	xmlns:xAL="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"
	xsi:schemaLocation="http://www.opengis.net/citygml/building/2.0 http://schemas.opengis.net/citygml/building/2.0/building.xsd
											  http://www.opengis.net/citygml/relief/2.0 http://schemas.opengis.net/citygml/relief/2.0/relief.xsd ">
	<gml:name>Simple 3D city model LOD1 without Appearance</gml:name>
	<gml:boundedBy>
		<gml:Envelope srsDimension="3" srsName="urn:ogc:def:crs,crs:EPSG::25832,crs:EPSG::5783">
			<gml:lowerCorner>458868.0 5438343.0 112.0</gml:lowerCorner>
			<gml:upperCorner>458892.0 5438362.0 117.0</gml:upperCorner>
		</gml:Envelope>
	</gml:boundedBy>
	<cityObjectMember>
		<bldg:Building gml:id="GML_7b1a5a6f-ddad-4c3d-a507-3eb9ee0a8e68">
			<gml:name>Example Building LOD1 </gml:name>
			<bldg:function
					codeSpace="http://www.sig3d.org/codelists/standard/building/2.0/_AbstractBuilding_function.xml">1000</bldg:function>
			<bldg:yearOfConstruction>1985</bldg:yearOfConstruction>
			<bldg:roofType
					codeSpace="http://www.sig3d.org/codelists/standard/building/2.0/_AbstractBuilding_roofType.xml">1030</bldg:roofType>
			<bldg:measuredHeight uom="#m">5.0</bldg:measuredHeight>
			<bldg:storeysAboveGround>1</bldg:storeysAboveGround>
			<bldg:storeyHeightsAboveGround uom="#m">3.0</bldg:storeyHeightsAboveGround>
			<bldg:lod1Solid>
				<gml:Solid>
					<gml:exterior>
						<gml:CompositeSurface >
							<!-- Face Side 1 -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458875.0 5438350.0 112.0 458885.0 5438350.0 112.0 458885.0 5438350.0 116.0 458875.0
												5438350.0 116.0 458875.0 5438350.0 112.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Side 2 -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458885.0 5438350.0 112.0 458885.0 5438355.0 112.0 458885.0 5438355.0 116.0 458885.0
												5438350.0 116.0 458885.0 5438350.0 112.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Side 3 -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458885.0 5438355.0 112.0 458875.0 5438355.0 112.0 458875.0 5438355.0 116.0 458885.0
												5438355.0 116.0 458885.0 5438355.0 112.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Side 4 -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458875.0 5438355.0 112.0 458875.0 5438350.0 112.0 458875.0 5438350.0 116.0 458875.0
												5438355.0 116.0 458875.0 5438355.0 112.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Top -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458875.0 5438350.0 116.0 458885.0 5438350.0 116.0 458885.0 5438355.0 116.0 458875.0
												5438355.0 116.0 458875.0 5438350.0 116.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Bottom -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458875.0 5438350.0 112.0 458875.0 5438355.0 112.0 458885.0 5438355.0 112.0 458885.0
												5438350.0 112.0 458875.0 5438350.0 112.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:CompositeSurface>
					</gml:exterior>
				</gml:Solid>
			</bldg:lod1Solid>
			<bldg:address>
				<Address>
					<xalAddress>
						<xAL:AddressDetails>
							<xAL:Country>
								<xAL:CountryName>Germany</xAL:CountryName>
								<xAL:Locality Type="Town">
									<xAL:LocalityName>Eggenstein-Leopoldshafen</xAL:LocalityName>
									<xAL:Thoroughfare Type="Street">
										<xAL:ThoroughfareNumber>1</xAL:ThoroughfareNumber>
										<xAL:ThoroughfareName>Hermann-von-Helmholtz-Platz</xAL:ThoroughfareName>
									</xAL:Thoroughfare>
									<xAL:PostalCode>
										<xAL:PostalCodeNumber>76344</xAL:PostalCodeNumber>
									</xAL:PostalCode>
								</xAL:Locality>
							</xAL:Country>
						</xAL:AddressDetails>
					</xalAddress>
					<multiPoint>
						<gml:MultiPoint>
							<gml:pointMember>
								<gml:Point>
									<gml:pos srsDimension="3">458880.0 5438352.6 112.0 </gml:pos>
								</gml:Point>
							</gml:pointMember>
						</gml:MultiPoint>
					</multiPoint>
				</Address>
			</bldg:address>
		</bldg:Building>
	</cityObjectMember>
	<cityObjectMember>
		<dem:ReliefFeature gml:id="GML_6bb30328-7599-4500-90ef-766fde6aa67b">
			<gml:name>Example TIN LOD1</gml:name>
			<dem:lod>1</dem:lod>
			<dem:reliefComponent>
				<dem:TINRelief gml:id="GML_4eb161b0-aa7e-4087-937c-5c4c427c7fc9">
					<gml:name>Ground</gml:name>
					<dem:lod>1</dem:lod>
					<dem:tin>
						<gml:TriangulatedSurface>
							<gml:trianglePatches>
								<gml:Triangle>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458868.0 5438362.0 112.0 458875.0 5438355.0 112.0 458883.0 5438362.0 114.0 458868.0
												5438362.0 112.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Triangle>
								<gml:Triangle>
									...
								</gml:Triangle>
									... (more triangles)
							</gml:trianglePatches>
						</gml:TriangulatedSurface>
					</dem:tin>
				</dem:TINRelief>
			</dem:reliefComponent>
		</dem:ReliefFeature>
	</cityObjectMember>
</CityModel>
----




[[a_G-3]]
=== Example of a CityGML dataset for a building in LOD2

The building model from the previous chapters is now represented in LOD2. The
model reflects the actual roof structure and contains boundary surfaces
(_bldg:boundedBy_) which semantically classify the surfaces of the exterior
building shell (_bldg:RoofSurface_, _bldg:WallSurface_, and
_bldg:GroundSurface_). In addition to the thematic boudary surfaces, the
building geometry is also described using an LOD2 solid geometry (_gml:Solid_).
According to conformance requirement no. 4. of the _Building_ module (cf.
<<scls_10-3-9>>), this solid geometry must reference the geometry of the
boundary surfaces by using the GML3 XLink mechanism (_xlink:href_, printed in
bold in the following <<listing_5>>).



[[fig_77]]
.Example of a CityGML building model in LOD2.
====
.3D graphic
image::193.png["",373,254]

.model hierachy
image::194.png["",306,213]
====


[[listing_5]]
.Excerpt from the CityGML dataset for a building in LOD2 visualised in <<fig_77>>.
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<CityModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://www.opengis.net/citygml/2.0"
	xmlns:gml="http://www.opengis.net/gml"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:bldg="http://www.opengis.net/citygml/building/2.0"
	xmlns:dem="http://www.opengis.net/citygml/relief/2.0"
	xmlns:xAL="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"
	xsi:schemaLocation="http://www.opengis.net/citygml/building/2.0 http://schemas.opengis.net/citygml/building/2.0/building.xsd
											  http://www.opengis.net/citygml/relief/2.0 http://schemas.opengis.net/citygml/relief/2.0/relief.xsd ">
	<gml:name>Simple 3D city model LOD2 without Appearance</gml:name>
	<gml:boundedBy>
		<gml:Envelope srsDimension="3" srsName="urn:ogc:def:crs,crs:EPSG::25832,crs:EPSG::5783">
			<gml:lowerCorner>458868.0 5438343.0 112.0</gml:lowerCorner>
			<gml:upperCorner>458892.0 5438362.0 117.0</gml:upperCorner>
		</gml:Envelope>
	</gml:boundedBy>
	<cityObjectMember>
		<bldg:Building gml:id="GML_7b1a5a6f-ddad-4c3d-a507-3eb9ee0a8e68">
			<gml:name>Example Building LOD2 </gml:name>
			...   (further attributes see LOD1 example)
			<bldg:lod2Solid>
				<gml:Solid>
					<gml:exterior>
						<gml:CompositeSurface>
							<!-- Ground Slab -->
							<gml:surfaceMember xlink:href="#GML_d3981803-d4b0-4b5b-969c-53f657594757" />
							<!-- Wall South -->
							<gml:surfaceMember xlink:href="#GML_1d350a50-6acc-4d3c-8c28-326ca4305fd1" />
							<!-- Wall North -->
							<gml:surfaceMember xlink:href="#GML_d3909000-2f18-4472-8886-1c127ea67df1" />
							<!-- Wall East -->
							<gml:surfaceMember xlink:href="#GML_6286ffa9-3811-4796-a92f-3fd037c8e668" />
							<!-- Wall West -->
							<gml:surfaceMember xlink:href="#GML_5cc4fd92-d5de-4dd8-971e-892c91da2d9f" />
							<!-- Roof North -->
							<gml:surfaceMember xlink:href="#GML_ec6a8966-58d9-4894-8edd-9aceb91b923f" />
							<!-- Roof South -->
							<gml:surfaceMember xlink:href="#GML_b41dc792-5da6-4cd9-8f85-247583f305e3" />
						</gml:CompositeSurface>
					</gml:exterior>
				</gml:Solid>
			</bldg:lod2Solid>
			<bldg:boundedBy>
				<bldg:GroundSurface>
					<gml:name>Ground Slab</gml:name>
					<bldg:lod2MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_d3981803-d4b0-4b5b-969c-53f657594757">
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458875.0 5438350.0 112.0 458875.0 5438355.0 112.0 458885.0 5438355.0 112.0 458885.0 5438350.0
                      112.0 458875.0 5438350.0 112.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod2MultiSurface>
				</bldg:GroundSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:WallSurface>
					<gml:name>Wall South</gml:name>
					<bldg:lod2MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_1d350a50-6acc-4d3c-8c28-326ca4305fd1">
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458875.0 5438350.0 112.0 458885.0 5438350.0 112.0 458885.0 5438350.0 115.0 458875.0 5438350.0
 											115.0 458875.0 5438350.0 112.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod2MultiSurface>
				</bldg:WallSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:WallSurface>
					<gml:name>Wall North</gml:name>
					<bldg:lod2MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_d3909000-2f18-4472-8886-1c127ea67df1">
									...
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod2MultiSurface>
				</bldg:WallSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:WallSurface>
					<gml:name>Wall East</gml:name>
					<bldg:lod2MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_6286ffa9-3811-4796-a92f-3fd037c8e668">
									...
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod2MultiSurface>
				</bldg:WallSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:WallSurface>
					<gml:name>Wall West</gml:name>
					<bldg:lod2MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_5cc4fd92-d5de-4dd8-971e-892c91da2d9f">
									...
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod2MultiSurface>
				</bldg:WallSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:RoofSurface>
					<gml:name>Roof North</gml:name>
					<bldg:lod2MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_ec6a8966-58d9-4894-8edd-9aceb91b923f">
									...
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod2MultiSurface>
				</bldg:RoofSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:RoofSurface>
					<gml:name>Roof South</gml:name>
					<bldg:lod2MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_b41dc792-5da6-4cd9-8f85-247583f305e3">
									...
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod2MultiSurface>
				</bldg:RoofSurface>
			</bldg:boundedBy>
			<bldg:address>
				<Address>
					<xalAddress>
						<xAL:AddressDetails>
							...
						</xAL:AddressDetails>
					</xalAddress>
					<multiPoint>
						<gml:MultiPoint>
							<gml:pointMember>
								<gml:Point>
									<gml:pos srsDimension="3">458880.0 5438352.7 112.0 </gml:pos>
								</gml:Point>
							</gml:pointMember>
						</gml:MultiPoint>
					</multiPoint>
				</Address>
			</bldg:address>
		</bldg:Building>
	</cityObjectMember>
	<cityObjectMember>
		<dem:ReliefFeature gml:id="GML_6bb30328-7599-4500-90ef-766fde6aa67b">
			<gml:name>Example TIN LOD2</gml:name>
			<dem:lod>2</dem:lod>
			<dem:reliefComponent>
				<dem:TINRelief gml:id="GML_4eb161b0-aa7e-4087-937c-5c4c427c7fc9">
					<gml:name>Ground</gml:name>
					<dem:lod>2</dem:lod>
					<dem:tin>
						...
					</dem:tin>
				</dem:TINRelief>
			</dem:reliefComponent>
		</dem:ReliefFeature>
	</cityObjectMember>
</CityModel>
----


[[a_G-4]]
=== Example of a CityGML dataset for a building in LOD2 with an adjacent building part illustrating CityGML's topology representation

This example illustrates CityGML's topology representation which uses the XLink
mechanism of GML3 (cf. <<scls_8-1>>). The LOD2 model of <<a_G-3>> is extended by
placing an adjacent garage next to the building (cf. <<fig_78>>). The garage is
modelled as building part (_bldg:BuildingPart_) and shares a common surface
geometry with the building shell. For both the building and the garage thematic
boundary surfaces (_bldg:boundedBy_) as well as separate solid geometries are
given. The wall surface of the building where the garage touches the building is
depicted in <<fig_79>>. For the building, the surface geometry is split into a
non-shared and a shared part (see _bldg:WallSurface_ with _gml:name_ "Wall
East"). The latter is referenced by the garage both by its corresponding
_bldg:WallSurface_ (_gml:name_ "Garage Wall West") and its solid geometry. Since
the orientation of the shared surface has to be reversed in the context of the
garage, the XLink reference is embraced by a _gml:OrientableSurface_ element.
The XLinks pointing from the garage to the building geometry explicitly denote
the topological adjacency relation between both features.


[[fig_78]]
.Example of a CityGML building model in LOD2 with an adjacent building part (garage) which shares a common boundary surface.
====
.3D graphic
image::195.png["",373,249]

.model hierachy
image::196.png["",290,284]
====


[[fig_79]]
.The boundary surface where the garage touches the building. For the building, the geometry is split into a non-shared part ("Wall East", Polygon 1) and a shared part ("Wall East", Polygon 2). Only the latter is referenced by the garage using the XLink mechanism.
image::197.png[]


[[listing_6]]
.Excerpt from the CityGML dataset for a building in LOD2 having an adjacent garage as visualised in <<fig_78>>.
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<CityModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.opengis.net/citygml/2.0"
	xmlns:xAL="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0" xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:gml="http://www.opengis.net/gml" xmlns:dem="http://www.opengis.net/citygml/relief/2.0"
	xmlns:bldg="http://www.opengis.net/citygml/building/2.0"
	schemaLocation="http://www.opengis.net/citygml/building/2.0 http://schemas.opengis.net/citygml/building/2.0/building.xsd
									  http://www.opengis.net/citygml/relief/2.0 http://schemas.opengis.net/citygml/relief/2.0/relief.xsd">
	<gml:name>3D city model LOD2 without Appearance</gml:name>
	<gml:boundedBy>
		<gml:Envelope srsDimension="3" srsName="urn:ogc:def:crs,crs:EPSG::25832,crs:EPSG::5783">
			<gml:lowerCorner>458868.0 5438343.0 112.0</gml:lowerCorner>
			<gml:upperCorner>458892.0 5438362.0 117.0</gml:upperCorner>
		</gml:Envelope>
	</gml:boundedBy>
	<cityObjectMember>
		<bldg:Building gml:id="GML_7b1a5a6f-ddad-4c3d-a507-3eb9ee0a8e68">
			<gml:name>Example Building LOD2</gml:name>
			...   (further attributes see LOD1 example)
			<bldg:lod2Solid>
				<gml:Solid>
					<gml:exterior>
						<gml:CompositeSurface>
							<!-- Ground Slab -->
							<gml:surfaceMember xlink:href="#GML_d3981803-d4b0-4b5b-969c-53f657594757"/>
							<!-- Wall South -->
							<gml:surfaceMember xlink:href="#GML_1d350a50-6acc-4d3c-8c28-326ca4305fd1"/>
							<!-- Wall North -->
							<gml:surfaceMember xlink:href="#GML_d3909000-2f18-4472-8886-1c127ea67df1"/>
							<!-- Wall East 1 -->
							<gml:surfaceMember xlink:href="#GML_56d1dd88-36dd-4d1e-bff0-3305fbffa778"/>
							<!-- Wall East 2 -->
							<gml:surfaceMember xlink:href="#GML_9f0465e6-f316-4f89-a9bd-eb21934ffe84"/>
							<!-- Wall West -->
							<gml:surfaceMember xlink:href="#GML_5cc4fd92-d5de-4dd8-971e-892c91da2d9f"/>
							<!-- Roof North -->
							<gml:surfaceMember xlink:href="#GML_ec6a8966-58d9-4894-8edd-9aceb91b923f"/>
							<!-- Roof South -->
							<gml:surfaceMember xlink:href="#GML_b41dc792-5da6-4cd9-8f85-247583f305e3"/>
						</gml:CompositeSurface>
					</gml:exterior>
				</gml:Solid>
			</bldg:lod2Solid>
			<bldg:boundedBy>
				<bldg:GroundSurface>
					<gml:name>Ground Slab</gml:name>
					<bldg:lod2MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_d3981803-d4b0-4b5b-969c-53f657594757">
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458875.0 5438350.0 112.0 458875.0 5438355.0 112.0 458885.0 5438355.0 112.0 458885.0 5438350.0
												112.0 458875.0 5438350.0 112.0 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod2MultiSurface>
				</bldg:GroundSurface>
			</bldg:boundedBy>
			...
			<bldg:boundedBy>
				<bldg:WallSurface>
					<gml:name>Wall East</gml:name>
					<bldg:lod2MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_56d1dd88-36dd-4d1e-bff0-3305fbffa778">
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458885.0 5438350.0 112.0 458885.0 5438351.0 112.0 458885.0 5438351.0 114.5 458885.0 5438355.0
												114.3 458885.0 5438355.0 115.0 458885.0 5438352.5 117.0 458885.0 5438350.0 115.0 458885.0 5438350.0
												112.0</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_9f0465e6-f316-4f89-a9bd-eb21934ffe84">
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458885.0 5438355.0 112.0 458885.0 5438355.0 114.3 458885.0 5438351.0 114.5 458885.0 5438351.0
												112.0 458885.0 5438355.0 112.0</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod2MultiSurface>
				</bldg:WallSurface>
			</bldg:boundedBy>
			...
			<bldg:consistsOfBuildingPart>
				<bldg:BuildingPart gml:id="GMLID_BUI379228_1244_301">
					<gml:name>Example BuildingPart LOD2</gml:name>
					<bldg:function
							codeSpace="http://www.sig3d.org/codelists/standard/building/2.0/_AbstractBuilding_function.xml">1630</bldg:function>
					<bldg:yearOfConstruction>1985</bldg:yearOfConstruction>
					<bldg:roofType
							codeSpace="http://www.sig3d.org/codelists/standard/building/2.0/_AbstractBuilding_roofType.xml">1010</bldg:roofType>
					<bldg:measuredHeight uom="#m">2.5</bldg:measuredHeight>
					<bldg:lod2Solid>
						<gml:Solid>
							<gml:exterior>
								<gml:CompositeSurface>
									<!-- Garage Ground Slab -->
									<gml:surfaceMember xlink:href="#GML_2e1ff653-b62b-41ee-9f99-d6852ae7d567"/>
									<!-- Garage Wall South -->
									<gml:surfaceMember xlink:href="#GML_f3f56c7b-7e59-47bc-ba03-d841032f1a37"/>
									<!-- Garage Wall North -->
									<gml:surfaceMember xlink:href="#GML_5339468c-b2cb-4a99-9eb5-8b0660fb26d3"/>
									<!-- Garage Wall East -->
									<gml:surfaceMember xlink:href="#GML_dab75f49-f6f8-4490-b86b-450b613e1fc2"/>
									<!-- Garage Wall West (identical with Wall East 2 of Building) -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="-">
											<gml:baseSurface xlink:href="#GML_9f0465e6-f316-4f89-a9bd-eb21934ffe84"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Garage Roof -->
									<gml:surfaceMember xlink:href="#GML_7996bef1-f045-4704-be27-db27430d4f70"/>
								</gml:CompositeSurface>
							</gml:exterior>
						</gml:Solid>
					</bldg:lod2Solid>
					<bldg:boundedBy>
						<bldg:WallSurface>
							<gml:name>Garage Wall East</gml:name>
							<bldg:lod2MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:Polygon gml:id="GML_dab75f49-f6f8-4490-b86b-450b613e1fc2">
											<gml:exterior>
												<gml:LinearRing>
													<gml:posList>458887.5 5438355.0 114.3 458887.5 5438351.0 114.5 458887.5 5438351.0 112.0 458887.5
														5438355.0 112.0 458887.5 5438355.0 114.3</gml:posList>
												</gml:LinearRing>
											</gml:exterior>
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod2MultiSurface>
						</bldg:WallSurface>
					</bldg:boundedBy>
					...
					<bldg:boundedBy>
						<bldg:WallSurface>
							<gml:name>Garage Wall West</gml:name>
							<bldg:lod2MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<!-- identical with Wall East 2 of Building -->
										<gml:OrientableSurface orientation="-">
											<gml:baseSurface xlink:href="#GML_9f0465e6-f316-4f89-a9bd-eb21934ffe84"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod2MultiSurface>
						</bldg:WallSurface>
					</bldg:boundedBy>
					...
				</bldg:BuildingPart>
			</bldg:consistsOfBuildingPart>
			<bldg:address>
				<Address>
					<xalAddress>
						<xAL:AddressDetails>
							...
						</xAL:AddressDetails>
					</xalAddress>
					<multiPoint>
						...
					</multiPoint>
				</Address>
			</bldg:address>
		</bldg:Building>
	</cityObjectMember>
	<cityObjectMember>
		<dem:ReliefFeature gml:id="GML_6bb30328-7599-4500-90ef-766fde6aa67b">
			<gml:name>Example TIN LOD2</gml:name>
			<dem:lod>2</dem:lod>
			<dem:reliefComponent>
				<dem:TINRelief gml:id="GML_4eb161b0-aa7e-4087-937c-5c4c427c7fc9">
					<gml:name>Ground</gml:name>
					<dem:lod>2</dem:lod>
					<dem:tin>
						...
					</dem:tin>
				</dem:TINRelief>
			</dem:reliefComponent>
		</dem:ReliefFeature>
	</cityObjectMember>
</CityModel>
----





=== Example of a CityGML dataset for a building in LOD3

The LOD3 building model illustrated in this chapter (cf. <<fig_80>>) adds doors
(_bldg:Door_), windows (_bldg:Window_) and roof overhangs (_bldg:RoofSurface_)
to the LOD2 representation of the previous chapters. Again, a solid geometry for
the LOD3 of the building is realized by referencing the geometries of the
thematic boundary surfaces using the GML3 XLink mechanism (_xlink:href_). In
order to get a valid solid geometry, the roof surfaces are geometrically split
into the roof slab and the roof overhang parts. Only the geometry of the roof
slab is referenced by the solid. Walls composed of serveral surfaces (e.g.
reveals) are modeled as _gml:CompositeSurface_ which then is referenced by the
building solid. Boundary surfaces containing openings for doors or windows are
modeled with polygons having one exterior and serval interior linear rings
(according to conformance requirement no. 8. of the _Building_ module, cf.
<<scls_10-4-8>>).



[[fig_80]]
.Example of a CityGML building model in LOD3.
====
.3D graphic
image::199.png["",373,254]

.model hierachy
image::200.png["",284,236]
====


[[listing_7]]
.Excerpt from the CityGML dataset for the buildings in LOD3 visualised in <<fig_80>>.
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<CityModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://www.opengis.net/citygml/2.0"
	xmlns:gml="http://www.opengis.net/gml"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:bldg="http://www.opengis.net/citygml/building/2.0"
	xmlns:dem="http://www.opengis.net/citygml/relief/2.0"
	xmlns:xAL="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"
	xsi:schemaLocation="http://www.opengis.net/citygml/building/2.0 http://schemas.opengis.net/citygml/building/2.0/building.xsd
											  http://www.opengis.net/citygml/relief/2.0 http://schemas.opengis.net/citygml/relief/2.0/relief.xsd ">
	<gml:name>Simple 3D city model LOD3 without Appearance</gml:name>
	<gml:boundedBy>
		<gml:Envelope srsDimension="3" srsName="urn:ogc:def:crs,crs:EPSG::25832,crs:EPSG::5783">
			<gml:lowerCorner>458868.0 5438343.0 112.0</gml:lowerCorner>
			<gml:upperCorner>458892.0 5438362.0 117.0</gml:upperCorner>
		</gml:Envelope>
	</gml:boundedBy>
	<cityObjectMember>
		<bldg:Building gml:id="GML_7b1a5a6f-ddad-4c3d-a507-3eb9ee0a8e68">
			<gml:name>Example Building LOD3 </gml:name>
				...   (further attributes see LOD1 example)
			<bldg:boundedBy>
				<bldg:GroundSurface>
					<gml:name>Ground Slab</gml:name>
						...   (see LOD2 example)
				</bldg:GroundSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:WallSurface>
					<gml:name>Wall South</gml:name>
					<bldg:lod3MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:CompositeSurface gml:id="GML_1d350a50-6acc-4d3c-8c28-326ca4305fd1">
									<gml:surfaceMember>
										<gml:Polygon gml:id="PolyID10204_1916_571790_369478">
										...
										</gml:Polygon>
									</gml:surfaceMember>
									<gml:surfaceMember>
										<gml:Polygon gml:id="PolyID10205_105_876837_53833">
											<gml:exterior>
												<gml:LinearRing>
													<gml:posList>458875.0 5438350.0 112.0 458885.0 5438350.0 112.0 458885.0 5438350.0 115.0
														458875.0 5438350.0 115.0 458875.0 5438350.0 112.0 </gml:posList>
												</gml:LinearRing>
											</gml:exterior>
											<gml:interior>
												<gml:LinearRing>
													<gml:posList>458877.0 5438350.0 114.2 458878.5 5438350.0 114.2 458878.5 5438350.0 113.2
														458877.0 5438350.0 113.2 458877.0 5438350.0 114.2 </gml:posList>
												</gml:LinearRing>
											</gml:interior>
											<gml:interior>
												<gml:LinearRing>
													<gml:posList>458881.5 5438350.0 114.2 458883.0 5438350.0 114.2 458883.0 5438350.0 113.2
														458881.5 5438350.0 113.2 458881.5 5438350.0 114.2 </gml:posList>
												</gml:LinearRing>
											</gml:interior>
										</gml:Polygon>
									</gml:surfaceMember>
									<gml:surfaceMember>
										...   (more surface members of the WallSurface)
									</gml:surfaceMember>
								</gml:CompositeSurface>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod3MultiSurface>
					<bldg:opening>
						<bldg:Window gml:id="GML_3b09d6a5-4c24-4847-a8a2-e97475e3de47">
							<gml:name>Window South 1</gml:name>
							<bldg:lod3MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:Polygon gml:id="GML_5e07e2cc-c28c-480e-880f-dfdfe287bb9e">
										...
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod3MultiSurface>
						</bldg:Window>
					</bldg:opening>
					<bldg:opening>
						<bldg:Window gml:id="GML_f75f01cc-c584-4a62-b34a-4a0e2640550d">
							<gml:name>Window South 2</gml:name>
							<bldg:lod3MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:Polygon gml:id="GML_d0ea2b6b-7992-4284-9a20-957a6c5c1cea">
										...
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod3MultiSurface>
						</bldg:Window>
					</bldg:opening>
				</bldg:WallSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:WallSurface>
					<gml:name>Wall North</gml:name>
						...   (see LOD2 example)
				</bldg:WallSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:WallSurface>
					<gml:name>Wall East</gml:name>
					<bldg:lod3MultiSurface>
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:CompositeSurface gml:id="GML_6286ffa9-3811-4796-a92f-3fd037c8e668">
								...
								</gml:CompositeSurface>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod3MultiSurface>
					<bldg:opening>
						<bldg:Door gml:id="GML_93096bbb-5155-47fb-ae2c-e2f9327f3007">
							<gml:name>Door East</gml:name>
							<bldg:lod3MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:Polygon gml:id="GML_8f988da9-22d7-41e5-ae94-880afd46a3c9">
										...
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod3MultiSurface>
						</bldg:Door>
					</bldg:opening>
				</bldg:WallSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:WallSurface>
					<gml:name>Wall West</gml:name>
						...   (see LOD2 example)
				</bldg:WallSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:RoofSurface>
					<gml:name>Roof North</gml:name>
					<bldg:lod3MultiSurface>
						<gml:MultiSurface>
							<!-- Roof slab -->
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_ec6a8966-58d9-4894-8edd-9aceb91b923f">
								...   (see LOD2 example)
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Roof overhanging -->
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_70fa738e-80a4-4774-8a3b-322f037fa482">
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458874.6 5438352.5 117 458875 5438352.5 117 458875 5438355 115 458885 5438355 115 458885 												5438352.5 117 458885.4 5438352.5 117 458885.4 5438355.312347524 114.75012198097823 458874.6 																	5438355.312347524 114.75012198097823 458874.6 5438352.5 117 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod3MultiSurface>
				</bldg:RoofSurface>
			</bldg:boundedBy>
			<bldg:boundedBy>
				<bldg:RoofSurface>
					<gml:name>Roof South</gml:name>
					<bldg:lod3MultiSurface>
						<!-- Roof slab -->
						<gml:MultiSurface>
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_b41dc792-5da6-4cd9-8f85-247583f305e3">
								...   (see LOD2 example)
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Roof overhanging -->
							<gml:surfaceMember>
								<gml:Polygon gml:id="GML_db6d8edc-4870-4523-a606-d440f36f8ec8">
								...
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:MultiSurface>
					</bldg:lod3MultiSurface>
				</bldg:RoofSurface>
			</bldg:boundedBy>
			<bldg:lod3Solid>
				<gml:Solid>
					<gml:exterior>
						<gml:CompositeSurface>
							<!-- Ground Slab -->
							<gml:surfaceMember xlink:href="#GML_d3981803-d4b0-4b5b-969c-53f657594757"/>
							<!-- Wall South -->
							<gml:surfaceMember xlink:href="#GML_1d350a50-6acc-4d3c-8c28-326ca4305fd1"/>
							<!-- Window South 1 -->
							<gml:surfaceMember xlink:href="#GML_5e07e2cc-c28c-480e-880f-dfdfe287bb9e"/>
							<!-- Window South 2 -->
							<gml:surfaceMember xlink:href="#GML_d0ea2b6b-7992-4284-9a20-957a6c5c1cea"/>
							<!-- Wall North -->
							<gml:surfaceMember xlink:href="#GML_d3909000-2f18-4472-8886-1c127ea67df1"/>
							<!-- Wall East -->
							<gml:surfaceMember xlink:href="#GML_6286ffa9-3811-4796-a92f-3fd037c8e668"/>
							<!-- Door East -->
							<gml:surfaceMember xlink:href="#GML_8f988da9-22d7-41e5-ae94-880afd46a3c9"/>
							<!-- Wall West -->
							<gml:surfaceMember xlink:href="#GML_5cc4fd92-d5de-4dd8-971e-892c91da2d9f"/>
							<!-- Roof Slab North -->
							<gml:surfaceMember xlink:href="#GML_ec6a8966-58d9-4894-8edd-9aceb91b923f"/>
							<!-- Roof Slab South -->
							<gml:surfaceMember xlink:href="#GML_b41dc792-5da6-4cd9-8f85-247583f305e3"/>
						</gml:CompositeSurface>
					</gml:exterior>
				</gml:Solid>
			</bldg:lod3Solid>
			<bldg:address>
				<Address>
				...   (see LOD1 example)
				</Address>
			</bldg:address>
		</bldg:Building>
	</cityObjectMember>
	<cityObjectMember>
		<dem:ReliefFeature gml:id="GML_6bb30328-7599-4500-90ef-766fde6aa67b">
					...   (see LOD1 example)
		</dem:ReliefFeature>
	</cityObjectMember>
</CityModel>
----


[[a_G-6]]
=== Example of a CityGML dataset for a building in LOD4

In LOD4, the building is completed with the representation of the building
interior (cf. <<fig_81>>). The model contains a room (_bldg:Room_), which is
equipped with a rocking chair (_bldg:BuildingFurniture_). The room is bounded by
interior boundary surfaces (_bldg:InteriorWallSurface, bldg:FloorSurface,
bldg:CeilingSurface,_ associated through the _bldg:boundedBy_ property of the
room) whose geometries are referenced by the LOD4 solid geometry of the room
(_xlink:href_). If the normal vector of an interior boundary surface is pointing
into the room, its orientation has to be flipped using an orientable surface
(_gml:OrientableSurface_) when referenced from the solid in order to create a
valid solid geometry (for a _gml:Solid_, the normal vectors of the surfaces
bounding the volume have to point outwards the volume).



[[fig_81]]
.Example of a CityGML building model in LOD4. The roof surfaces are not shown in order to visualize the interior boundary surfaces as well as the building furniture.
====
.3D graphic
image::201.png["",373,254]

.model hierachy
image::202.png["",250,260]
====


[[listing_8]]
.Excerpt from the CityGML dataset for the buildings in LOD4 visualised in <<fig_81>>.
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<CityModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://www.opengis.net/citygml/2.0"
	xmlns:gml="http://www.opengis.net/gml"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:bldg="http://www.opengis.net/citygml/building/2.0"
	xmlns:dem="http://www.opengis.net/citygml/relief/2.0"
	xmlns:xAL="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"
	xsi:schemaLocation="http://www.opengis.net/citygml/building/2.0 http://schemas.opengis.net/citygml/building/2.0/building.xsd
											  http://www.opengis.net/citygml/relief/2.0 http://schemas.opengis.net/citygml/relief/2.0/relief.xsd ">
	<gml:name>Simple 3D city model LOD4 without Appearance</gml:name>
	<gml:boundedBy>
		<gml:Envelope srsDimension="3" srsName="urn:ogc:def:crs,crs:EPSG::25832,crs:EPSG::5783">
			<gml:lowerCorner>458868.0 5438343.0 112.0</gml:lowerCorner>
			<gml:upperCorner>458892.0 5438362.0 117.0</gml:upperCorner>
		</gml:Envelope>
	</gml:boundedBy>
	<cityObjectMember>
		<bldg:Building gml:id="GML_7b1a5a6f-ddad-4c3d-a507-3eb9ee0a8e68">
			<gml:name>Example Building LOD4 </gml:name>
				...   (further attributes see LOD1 example)
			<bldg:boundedBy>
				...   (outer shell see LOD3 example)
			<bldg:lod4Solid>
				...   (building solid representation see LOD3 example)
			</bldg:lod4Solid>
			<bldg:interiorRoom>
				<bldg:Room>
					<bldg:lod4Solid>
						<gml:Solid>
							<gml:exterior>
								<gml:CompositeSurface>
									<!-- Floor -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="-">
											<gml:baseSurface xlink:href="#GML_fa89e511-39b2-46de-9a13-9f4621576a46"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Interior Wall North -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="-">
											<gml:baseSurface xlink:href="#GML_592ce9fa-0b98-4225-8d22-20eff4f86fc5"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Interior Wall West -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="-">
											<gml:baseSurface xlink:href="#GML_a9fe597d-c338-43ad-a633-2a0beb273fac"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Interior Wall East -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="-">
											<gml:baseSurface xlink:href="#GML_eaf1db16-56a3-4b86-ae19-2edbb604636f"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Door East -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="+">
											<gml:baseSurface xlink:href="#GML_8f988da9-22d7-41e5-ae94-880afd46a3c9"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Interior Wall South -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="-">
											<gml:baseSurface xlink:href="#GML_a718c157-c948-42cf-a786-0ce61044cff9"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Window South 1 -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="+">
											<gml:baseSurface xlink:href="#GML_5e07e2cc-c28c-480e-880f-dfdfe287bb9e"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Window South 2 -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="+">
											<gml:baseSurface xlink:href="#GML_d0ea2b6b-7992-4284-9a20-957a6c5c1cea"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Ceiling North -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="-">
											<gml:baseSurface xlink:href="#GML_989aa5cf-ee07-4fd8-89b6-500a9d5ba8041"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
									<!-- Ceiling South -->
									<gml:surfaceMember>
										<gml:OrientableSurface orientation="-">
											<gml:baseSurface xlink:href="#GML_98841838-ee0b-402f-ba28-64ed61cb10f8"/>
										</gml:OrientableSurface>
									</gml:surfaceMember>
								</gml:CompositeSurface>
							</gml:exterior>
						</gml:Solid>
					</bldg:lod4Solid>
					<bldg:boundedBy>
						<bldg:InteriorWallSurface>
							<gml:name>Interior Wall North</gml:name>
							<bldg:lod4MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:Polygon gml:id="GML_592ce9fa-0b98-4225-8d22-20eff4f86fc5">
											...
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod4MultiSurface>
						</bldg:InteriorWallSurface>
					</bldg:boundedBy>
					<bldg:boundedBy>
						<bldg:InteriorWallSurface>
							<gml:name>Interior Wall West</gml:name>
							<bldg:lod4MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:Polygon gml:id="GML_a9fe597d-c338-43ad-a633-2a0beb273fac">
											...
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod4MultiSurface>
						</bldg:InteriorWallSurface>
					</bldg:boundedBy>
					<bldg:boundedBy>
						<bldg:InteriorWallSurface>
							<gml:name>Interior Wall East</gml:name>
							<bldg:lod4MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:CompositeSurface gml:id="GML_eaf1db16-56a3-4b86-ae19-2edbb604636f">
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
										</gml:CompositeSurface>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod4MultiSurface>
							<bldg:opening>
								<bldg:Door>
									<gml:name>Door East</gml:name>
									<bldg:lod4MultiSurface>
										<gml:MultiSurface>
											<gml:surfaceMember>
												<gml:OrientableSurface orientation="-">
													<gml:baseSurface xlink:href="#GML_8f988da9-22d7-41e5-ae94-880afd46a3c9"> </gml:baseSurface>
												</gml:OrientableSurface>
											</gml:surfaceMember>
										</gml:MultiSurface>
									</bldg:lod4MultiSurface>
								</bldg:Door>
							</bldg:opening>
						</bldg:InteriorWallSurface>
					</bldg:boundedBy>
					<bldg:boundedBy>
						<bldg:InteriorWallSurface>
							<gml:name>Interior Wall South</gml:name>
							<bldg:lod4MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:CompositeSurface gml:id="GML_a718c157-c948-42cf-a786-0ce61044cff9">
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
												<gml:Polygon gml:id="GML_cf0b79ba-f31f-4bae-a10f-5bcc85ce2cf6">
													<gml:exterior>
														...
													</gml:exterior>
													<gml:interior>
														...
													</gml:interior>
													<gml:interior>
														...
													</gml:interior>
												</gml:Polygon>
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
											<gml:surfaceMember>
													...
											</gml:surfaceMember>
										</gml:CompositeSurface>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod4MultiSurface>
							<bldg:opening>
								<bldg:Window>
									<gml:name>Window South 1</gml:name>
									<bldg:lod4MultiSurface>
										<gml:MultiSurface>
											<gml:surfaceMember>
												<gml:OrientableSurface orientation="-">
													<gml:baseSurface xlink:href="#GML_5e07e2cc-c28c-480e-880f-dfdfe287bb9e"> </gml:baseSurface>
												</gml:OrientableSurface>
											</gml:surfaceMember>
										</gml:MultiSurface>
									</bldg:lod4MultiSurface>
								</bldg:Window>
							</bldg:opening>
							<bldg:opening>
								<bldg:Window>
									<gml:name>Window South 2</gml:name>
									<bldg:lod4MultiSurface>
										<gml:MultiSurface>
											<gml:surfaceMember>
												<gml:OrientableSurface orientation="-">
													<gml:baseSurface xlink:href="#GML_d0ea2b6b-7992-4284-9a20-957a6c5c1cea"> </gml:baseSurface>
												</gml:OrientableSurface>
											</gml:surfaceMember>
										</gml:MultiSurface>
									</bldg:lod4MultiSurface>
								</bldg:Window>
							</bldg:opening>
						</bldg:InteriorWallSurface>
					</bldg:boundedBy>
					<bldg:boundedBy>
						<bldg:FloorSurface>
							<gml:name>Floor</gml:name>
							<bldg:lod4MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:Polygon gml:id="GML_fa89e511-39b2-46de-9a13-9f4621576a46">
											...
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod4MultiSurface>
						</bldg:FloorSurface>
					</bldg:boundedBy>
					<bldg:boundedBy>
						<bldg:CeilingSurface>
							<gml:name>Ceiling South</gml:name>
							<bldg:lod4MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:Polygon gml:id="GML_989aa5cf-ee07-4fd8-89b6-500a9d5ba8041">
											...
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod4MultiSurface>
						</bldg:CeilingSurface>
					</bldg:boundedBy>
					<bldg:boundedBy>
						<bldg:CeilingSurface>
							<gml:name>Ceiling North</gml:name>
							<bldg:lod4MultiSurface>
								<gml:MultiSurface>
									<gml:surfaceMember>
										<gml:Polygon gml:id="GML_98841838-ee0b-402f-ba28-64ed61cb10f8">
											...
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:MultiSurface>
							</bldg:lod4MultiSurface>
						</bldg:CeilingSurface>
					</bldg:boundedBy>
					<bldg:interiorFurniture>
						<bldg:BuildingFurniture>
							<gml:name>Rocking Chair</gml:name>
							<bldg:function codeSpace="http://www.sig3d.org/codelists/standard/building/2.0/BuildingFurniture_function.xml"
							>1340</bldg:function>
							<bldg:lod4Geometry>
								</gml:MultiSurface>
								...
								</gml:MultiSurface>
							</bldg:lod4Geometry>
						</bldg:BuildingFurniture>
					</bldg:interiorFurniture>
				</bldg:Room>
			</bldg:interiorRoom>
			<bldg:address>
					...   (address see LOD1 example)
			</bldg:address>
		</bldg:Building>
	</cityObjectMember>
	<cityObjectMember>
		<dem:ReliefFeature gml:id="GML_6bb30328-7599-4500-90ef-766fde6aa67b">
			...   (see LOD1 example)
		</dem:ReliefFeature>
	</cityObjectMember>
</CityModel>
----



[[a_G-7]]
=== Example of a CityGML dataset illustrating the appearance model

The following CityGML dataset is based on the simple building model from
<<a_G-2>> and <<a_G-3>> given in LOD1 and LOD2. Furthermore two separate
appearance themes are defined -- a summer theme and a winter theme -- describing
different visual appearances for the building and the surrounding terrain. Each
LOD has an individual appearance for these specific themes.

Several concepts of CityGML's appearance model are used in this dataset.
Regarding LOD1, an _X3DMaterial_ object defines the material of the whole
building which is applied to all of its surfaces. In addition, a
_GeoreferencedTexture_ is assigned both to the terrain and the roof surface of
the building. In LOD2 the vertical surfaces of the building are texturised
individually using _ParameterizedTexture_ objects whereas the roof surfaces and
the terrain again are described by a _GeoreferencedTexture._ The texture mapping
for the _GeoreferencedTexture_ objects is given inline (cf. <<listing_9>>) as
wells as using an ESRI world file (cf. <<listing_11>>). The modelling approach
results in four possible visualizations of the dataset that are represented in
<<fig_82>> and <<fig_83>>.


[[fig_82]]
.Visualisation of a simple building in LOD1 using CityGML's appearance model. Two themes are defined for the building and the surrounding terrain: (a) theme showing the building in summer and (b) showing the building in winter (image: Hasso-Plattner-Institute).
====
[%unnumbered]
.a
image::203.png["",335,281]

[%unnumbered]
.b
image::204.png["",335,281]
====


[[fig_83]]
.Visualisation of a simple building in LOD2 using CityGML's appearance model. Two themes are defined for the building and the surrounding terrain: (a) theme showing the building in summer and (b) showing the building in winter (image: Hasso-Plattner-Institute).
====
[%unnumbered]
.a
image::205.png["",335,281]

[%unnumbered]
.b
image::206.png["",335,281]
====



[[listing_9]]
.Excerpt from the CityGML dataset illustrating CityGML's appearance model. The dataset is visualised in <<fig_82>> and <<fig_83>>.
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<CityModel
	xmlns="http://www.opengis.net/citygml/2.0"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:gml="http://www.opengis.net/gml"
	xmlns:app="http://www.opengis.net/citygml/appearance/2.0"
	xmlns:dem="http://www.opengis.net/citygml/relief/2.0"
	xmlns:bldg="http://www.opengis.net/citygml/building/2.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.opengis.net/citygml/building/2.0 http://schemas.opengis.net/citygml/building/2.0/building.xsd
										  http://www.opengis.net/citygml/relief/2.0 http://schemas.opengis.net/citygml/relief/2.0/relief.xsd
										  http://www.opengis.net/citygml/appearance/2.0 http://schemas.opengis.net/citygml/appearance/2.0/appearance.xsd">
	<gml:boundedBy>
		<gml:Envelope srsDimension="3" srsName="urn:ogc:def:crs,crs:EPSG::25832,crs:EPSG::5783">
			<gml:lowerCorner>458868.0 5438343.0 112.0</gml:lowerCorner>
			<gml:upperCorner>458892.0 5438362.0 117.0</gml:upperCorner>
		</gml:Envelope>
	</gml:boundedBy>
	<cityObjectMember>
		<bldg:Building gml:id="GML_7b1a5a6f-ddad-4c3d-a507-3eb9ee0a8e68">
			<bldg:function
					codeSpace="http://www.sig3d.org/codelists/standard/building/2.0/_AbstractBuilding_function.xml">1000</bldg:function>
			<bldg:yearOfConstruction>1985</bldg:yearOfConstruction>
			<bldg:roofType
					codeSpace="http://www.sig3d.org/codelists/standard/building/2.0/_AbstractBuilding_roofType.xml">1030</bldg:roofType>
			<bldg:measuredHeight uom="#m">5.0</bldg:measuredHeight>
			<bldg:storeysAboveGround>1</bldg:storeysAboveGround>
			<bldg:storeyHeightsAboveGround uom="#m">3.0</bldg:storeyHeightsAboveGround>
			<bldg:lod1Solid>
				<gml:Solid>
					<gml:exterior>
						<gml:CompositeSurface gml:id="lod1Surface">
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList srsDimension="3">458875 5438350 112 458885 5438350 112 458885 5438350 116 458875
												5438350 116 458875 5438350 112 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
								...
							<gml:surfaceMember>
								<gml:Polygon gml:id="lod1RoofPoly1">
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList srsDimension="3">458875 5438350 116 458885 5438350 116 458885 5438355 116 458875
												5438355 116 458875 5438350 116 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							...
						</gml:CompositeSurface>
					</gml:exterior>
				</gml:Solid>
			</bldg:lod1Solid>
			<bldg:lod2Solid>
				<gml:Solid>
					<gml:exterior>
						<gml:CompositeSurface>
							<gml:surfaceMember>
								<gml:CompositeSurface gml:id="fLeft">
									<gml:surfaceMember>
										<gml:Polygon>
											<gml:exterior>
												<gml:LinearRing gml:id="fLeftExt1">
													<gml:posList srsDimension="3">458875 5438350 112 458880 5438350 112 458880 5438350 115 458875
														5438350 115 458875 5438350 112 </gml:posList>
												</gml:LinearRing>
											</gml:exterior>
										</gml:Polygon>
									</gml:surfaceMember>
									<gml:surfaceMember>
										<gml:Polygon>
											<gml:exterior>
												<gml:LinearRing gml:id="fLeftExt2">
													<gml:posList srsDimension="3">458880 5438350 112 458885 5438350 112 458885 5438350 115 458880
														5438350 115 458880 5438350 112 </gml:posList>
												</gml:LinearRing>
											</gml:exterior>
										</gml:Polygon>
									</gml:surfaceMember>
								</gml:CompositeSurface>
							</gml:surfaceMember>
							<gml:surfaceMember>
								<gml:Polygon gml:id="fFront">
									<gml:exterior>
										<gml:LinearRing gml:id="fFrontExt">
											<gml:posList srsDimension="3">458885 5438350 112 458885 5438355 112 458885 5438355 115 458885
												5438352.5 117 458885 5438350 115 458885 5438350 112 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<gml:surfaceMember>
								<gml:Polygon gml:id="fRight">
									<gml:exterior>
										<gml:LinearRing gml:id="fRightExt">
											<gml:posList srsDimension="3">458885 5438355 112 458875 5438355 112 458875 5438355 115 458885
												5438355 115 458885 5438355 112 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<gml:surfaceMember>
								<gml:Polygon gml:id="fBack">
									<gml:exterior>
										<gml:LinearRing gml:id="fBackExt">
											<gml:posList srsDimension="3">458875 5438355 112 458875 5438350 112 458875 5438350 115 458875
												5438352.5 117 458875 5438355 115 458875 5438355 112 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<gml:surfaceMember>
								<gml:Polygon gml:id="lod2RoofPoly1">
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList srsDimension="3">458875 5438350 115 458885 5438350 115 458885 5438352.5 117 458875
												5438352.5 117 458875 5438350 115 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<gml:surfaceMember>
								<gml:Polygon gml:id="lod2RoofPoly2">
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList srsDimension="3">458885 5438355 115 458875 5438355 115 458875 5438352.5 117 458885
												5438352.5 117 458885 5438355 115 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList srsDimension="3">458875 5438350 112 458875 5438355 112 458885 5438355 112 458885
												5438350 112 458875 5438350 112 </gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:CompositeSurface>
					</gml:exterior>
				</gml:Solid>
			</bldg:lod2Solid>
			<bldg:address>
					...   (address see LOD1 example)
			</bldg:address>
		</bldg:Building>
	</cityObjectMember>
	<cityObjectMember>
		<dem:ReliefFeature gml:id="GML_6bb30328-7599-4500-90ef-766fde6aa67b ">
			<dem:lod>1</dem:lod>
			<dem:reliefComponent>
				<dem:TINRelief gml:id=" GML_4eb161b0-aa7e-4087-937c-5c4c427c7fc9">
					<gml:name>Ground</gml:name>
					<dem:lod>1</dem:lod>
					<dem:tin>
						<gml:TriangulatedSurface gml:id="ground">
							<gml:trianglePatches>
								<gml:Triangle>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>458868 5438362 112 458875 5438355 112 458883 5438362 114 458868 5438362 112
											</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Triangle>
								...
							</gml:trianglePatches>
						</gml:TriangulatedSurface>
					</dem:tin>
				</dem:TINRelief>
			</dem:reliefComponent>
		</dem:ReliefFeature>
	</cityObjectMember>
	<app:appearanceMember>
		<app:Appearance>
			<app:theme>Summer</app:theme>
			<app:surfaceDataMember>
				<app:X3DMaterial gml:id="lod1Material">
					<app:diffuseColor>1.0 0.6 0.0</app:diffuseColor>
					<app:target>#lod1Surface</app:target>
				</app:X3DMaterial>
			</app:surfaceDataMember>
			<app:surfaceDataMember>
				<app:GeoreferencedTexture>
					<app:imageURI>ground_summer.png</app:imageURI>
					<app:wrapMode>none</app:wrapMode>
					<app:referencePoint>
						<gml:Point>
							<gml:pos srsDimension="2">458870 5438360</gml:pos>
						</gml:Point>
					</app:referencePoint>
					<app:orientation>0.05 0.0 0.0 -0.05</app:orientation>
					<app:target>#ground</app:target>
					<app:target>#lod1RoofPoly1</app:target>
					<app:target>#lod2RoofPoly1</app:target>
					<app:target>#lod2RoofPoly2</app:target>
				</app:GeoreferencedTexture>
			</app:surfaceDataMember>
			<app:surfaceDataMember>
				<app:ParameterizedTexture gml:id="sideTexture">
					<app:imageURI>facade.png</app:imageURI>
					<app:wrapMode>wrap</app:wrapMode>
					<app:target uri="#fLeft">
						<app:TexCoordList>
							<app:textureCoordinates ring="#fLeftExt1">0.0 0.0 2.0 0.0 2.0 1.0 0.0 1.0 0.0 0.0</app:textureCoordinates>
							<app:textureCoordinates ring="#fLeftExt2">2.0 0.0 4.0 0.0 4.0 1.0 2.0 1.0 2.0 0.0</app:textureCoordinates>
						</app:TexCoordList>
					</app:target>
					<app:target uri="#fRight">
						<app:TexCoordGen>
							<app:worldToTexture>-0.4 0.0 0.0 183550.0 0.0 0.0 0.3333 -37.3333 0.0 0.0 0.0 1.0</app:worldToTexture>
						</app:TexCoordGen>
					</app:target>
				</app:ParameterizedTexture>
			</app:surfaceDataMember>
			<app:surfaceDataMember>
				<app:ParameterizedTexture>
					<app:imageURI>front_back_summer.png</app:imageURI>
					<app:wrapMode>none</app:wrapMode>
					<app:target uri="#fFront">
						<app:TexCoordList gml:id="frontTexCoord">
							<app:textureCoordinates ring="#fFrontExt">0.0 0.0 0.5 0.0 0.5 0.6 0.25 1.0 0.0 0.6 0.0
								0.0</app:textureCoordinates>
						</app:TexCoordList>
					</app:target>
					<app:target uri="#fBack">
						<app:TexCoordList gml:id="backTexCoord">
							<app:textureCoordinates ring="#fBackExt">0.5 0.0 1.0 0.0 1.0 0.6 0.75 1.0 0.5 0.6 0.5
								0.0</app:textureCoordinates>
						</app:TexCoordList>
					</app:target>
				</app:ParameterizedTexture>
			</app:surfaceDataMember>
		</app:Appearance>
	</app:appearanceMember>
	<app:appearanceMember>
		<app:Appearance>
			<app:theme>Winter</app:theme>
			<app:surfaceDataMember>
				<app:GeoreferencedTexture>
					<app:imageURI>ground_winter.png</app:imageURI>
					<app:wrapMode>none</app:wrapMode>
					<app:referencePoint>
						<gml:Point>
							<gml:pos srsDimension="2">458870 5438360</gml:pos>
						</gml:Point>
					</app:referencePoint>
					<app:orientation>0.05 0.0 0.0 -0.05</app:orientation>
					<app:target>#ground</app:target>
					<app:target>#lod1RoofPoly1</app:target>
					<app:target>#lod2RoofPoly1</app:target>
					<app:target>#lod2RoofPoly2</app:target>
				</app:GeoreferencedTexture>
			</app:surfaceDataMember>
			<app:surfaceDataMember xlink:href="#lod1Material"/>
			<app:surfaceDataMember xlink:href="#sideTexture"/>
			<app:surfaceDataMember>
				<app:ParameterizedTexture>
					<app:imageURI>front_back_winter.png</app:imageURI>
					<app:wrapMode>none</app:wrapMode>
					<app:target uri="#fFront" xlink:href="#frontTexCoord"/>
					<app:target uri="#fBack" xlink:href="#backTexCoord"/>
				</app:ParameterizedTexture>
			</app:surfaceDataMember>
		</app:Appearance>
	</app:appearanceMember>
</CityModel>
----



The following three raster images (<<fig_84>> - <<fig_86>>) are referenced in the dataset by _ParameterizedTexture_ objects to texturize the vertical boundary surfaces of the building in LOD2. The image _facade.png_ (cf. <<fig_84>>) is assigned to the side surfaces using the texture wrapping mode _wrap_ and is applied both within the summer and the winter theme.

[[fig_84]]
.Image _facade.png_ used in the dataset to texturize the side surfaces of the building in LOD2 (cf. <<fig_83>> a. and b.) (image: Hasso-Plattner-Institute).
image::207.png["",145,174]



<<fig_85>> shows the texture atlas _front_back_summer.png_ combining the textures for the front surface and the back surface of the building in LOD2 within the summer theme. Only a portion of this image is assigned to the specific surfaces. The relevant parts are defined using a _TextCoordList_ object.


[[fig_85]]
.Texture atlas _front_back_summer.png_ containing the textures for the front surface and the back surface of the building in LOD2 within the summer theme (cf. <<fig_83>> a.) (image: Hasso-Plattner-Institute).
image::208.png["",346,171]


Identically to _front_back_summer.png_ the texture atlas _front_back_winter.png_ contains the textures for the front surface and the back surface of the building in LOD2 within the winter theme.

[[fig_86]]
.Texture atlas _front_back_winter.png_ containing the textures for the front surface and the back surface of the building in LOD2 within the winter theme (cf. <<fig_83>> b.) (image: Hasso-Plattner-Institute).
image::209.png["",348,173]


The raster images shown in <<fig_87>> and <<fig_88>> are assigned to the terrain and the roof surfaces of the building in LOD1 as well as in LOD2. In the dataset this is implemented by a _GeoreferencedTexture_ object linking to the according GML geometry objects. Whereas the image _ground_summer.png_ (cf. <<fig_87>>) represents the texture for the summer theme, _ground_winter.png_ (cf. <<fig_88>>) is used within the winter theme.

[[fig_87]]
.The image _ground_summer.png_ is assigned to the terrain and the roof surfaces of the building both in LOD1 and LOD2 (cf. <<fig_82>> a. and <<fig_83>> a.) within the summer theme (image: Hasso-Plattner-Institute).
image::210.png["",386,290]

[[fig_88]]
.The image _ground_winter.png_ is assigned to the terrain and the roof surfaces of the building both in LOD1 and LOD2 (cf. <<fig_82>> b. and <<fig_83>> b.) within the winter theme (image: Hasso-Plattner-Institute).
image::211.png["",386,289]


Instead of denoting the georeference of the _GeoreferencedTexture_ elements inline as shown in <<listing_9>>, the _Appearance_ module also supports to provide the texture mapping with the image file (e.g. using a georeferenced TIFF) or as a separate ESRI world file. The latter is a six-line text file with a decimal number on each line. These numbers correspond to the parameters of the inline texture mapping and can be 1:1 copied from there (and vice versa). The rotation and scaling parameters given by the _orientation_ property of _GeoreferencedTexture_ (2x2 matrix represented as a list of 4 doubles in row-major) are given on lines 1, 3, 2, and 4 in an ESRI world file. And the location of the center of the upper left image pixel in world space denoted by the _referencePoint_ property of _GeoreferencedTexture_ corresponds to lines 5 and 6. For the example in <<listing_9>>, the world files for both texture images contain the following values:


[[listing_10]]
.Contents of a world file specifying the same texture mapping for a _GeoreferencedTexture_ as given by the inline georeference shown in <<listing_9>>.
[source]
----
    0.05
    0.0
    0.0
    -0.05
    458870
    5438360
----


In order to make use of this world file, it has to be stored together with the
texture image (for filename conventions, see
http://en.wikipedia.org/wiki/World_file[http://en.wikipedia.org/wiki/World_file]).
Additionally, the inline texture mapping has to be removed from both
_GeoreferencedTexture_ elements in <<listing_9>> as shown in the following
excerpt. Both alternatives for denoting the georeference of a
_GeoreferencedTexture_ are bundled with the CityGML schemas, and are available
at
http://schemas.opengis.net/citygml/examples/2.0/appearance/[http://schemas.opengis.net/citygml/examples/2.0/appearance/].


[[listing_11]]
.Adapted _GeoreferencedTexture_ element for which the texture mapping is provided by the world file shown in <<listing_10>>.
[source,xml]
----
...
<app:GeoreferencedTexture>
    <app:imageURI>ground_winter.png</app:imageURI>
    <app:target>#ground</app:target>
    <app:target>#lod1RoofPoly1</app:target>
    <app:target>#lod2RoofPoly1</app:target>
    <app:target>#lod2RoofPoly2</app:target>
</app:GeoreferencedTexture>
...
----


[[a_G-8]]
=== Example of a CityGML dataset illustrating the use of texture coordinates for complex surfaces with holes

The following example demonstrates the use of texture coordinates for complex
surfaces with holes. Additionally, the concept of overwriting (cf. <<scls_9-1>>)
is exemplified. The example shows a textured road in LOD1, which consists of a
roundabout and two entering streets (<<fig_89>>). It uses two
_app:ParameterizedTexture_ objects, a regular road piece (rd, <<fig_90>>) and a
dirt track becoming a paved road (dt, <<fig_91>>). All geometry is contained in
a single _gml:MultiSurface_ (road) being the target of rd. The roundabout is
modelled as a polygon with holes (roundaboutPoly). Both rings raEx and raIn need
to receive texture coordinates. For efficient texturing, texture coordinates and
wrap mode are chosen such that the regular road piece is draped onto the
polygonal ring as desired at the price of some distortion. A distortion-free
alternative, e.g. for higher LODs, requires an additional road piece texture for
the roundabout (<<fig_92>>) or a texture for the complete roundabout
(<<fig_93>>). In both cases, texture space is wasted. Wasted areas are marked
red.



[[fig_89]]
.A rendering of the textured geometry (images for this example: Hasso-Plattner-Institute).
image::212.png["",665,333]


[[fig_90]]
.The road piece texture.
image::213.png["",94,51]


[[fig_91]]
.The dirt track texture.
image::214.png["",94,51]


[[fig_92]]
.A distortion-free road piece for the roundabout. Red areas never become visible and are wasted.
image::215.png["",94,50]


[[fig_93]]
.The complete roundabout in a distortion-free texture. Red areas never become visible and are wasted.
image::216.png["",193,193]


The entering dirt track requires a different texture. Even though its geometry (dirtPoly) is contained in the already textured road, the existing texture is overwritten and replaced by using dirtPoly as target of dt. Overwriting only occurs when assigning a new texture to a surface geometry object contained in an already textured aggregated geometry object. Assigning two textures to the same surface geometry object directly is not allowed. The same applies to materials.


[[listing_12]]
.CityGML dataset illustrating the use of texture coordinates for complex surfaces with holes. The dataset is visualised in <<fig_89>>.
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<CityModel xmlns="http://www.opengis.net/citygml/2.0"
	xmlns:app="http://www.opengis.net/citygml/appearance/2.0"
	xmlns:tran="http://www.opengis.net/citygml/transportation/2.0"
	xmlns:gml="http://www.opengis.net/gml"
	xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.opengis.net/citygml/appearance/2.0 http://schemas.opengis.net/citygml/appearance/2.0/appearance.xsd
				http://www.opengis.net/citygml/transportation/2.0 http://schemas.opengis.net/citygml/transportation/2.0/transportation.xsd">
	<gml:boundedBy>
		<!--The srsName attribute references a local engineering CRS that is defined in the example dataset provided in annex G.9 -->
		<gml:Envelope srsDimension="3" srsName="local-CRS-1">
			<gml:lowerCorner>-45.0 -20.0 0.0</gml:lowerCorner>
			<gml:upperCorner>45.0 20.0 10.0</gml:upperCorner>
		</gml:Envelope>
	</gml:boundedBy>
	<cityObjectMember>
		<tran:Road>
			<app:appearance>
				<app:Appearance>
					<app:theme>visual</app:theme>
					<app:surfaceDataMember>
						<app:ParameterizedTexture gml:id="rd">
							<app:imageURI>rd.png</app:imageURI>
							<app:wrapMode>mirror</app:wrapMode>
							<app:target uri="#road">
								<app:TexCoordList>
									<app:textureCoordinates ring="#raEx"> 0 1 1 1 0 1 1 1 0 1 1 1 0 1 1 1 0 1 </app:textureCoordinates>
									<app:textureCoordinates ring="#raIn"> 0 0 1 0 0 0 1 0 0 0 1 0 0 0 1 0 0 0 </app:textureCoordinates>
									<app:textureCoordinates ring="#roadEx"> 0 0 2.5 0 2.5 1 0 1 0 0 </app:textureCoordinates>
									<app:textureCoordinates ring="#dirtEx"> 0 0 2.5 0 2.5 1 0 1 0 0 </app:textureCoordinates>
								</app:TexCoordList>
							</app:target>
						</app:ParameterizedTexture>
					</app:surfaceDataMember>
					<app:surfaceDataMember>
						<app:ParameterizedTexture gml:id="dt">
							<app:imageURI>dt.png</app:imageURI>
							<app:wrapMode>mirror</app:wrapMode>
							<app:target uri="#dirtPoly">
								<app:TexCoordList>
									<app:textureCoordinates ring="#dirtEx"> 0 0 1 0 1 1 0 1 0 0 </app:textureCoordinates>
								</app:TexCoordList>
							</app:target>
						</app:ParameterizedTexture>
					</app:surfaceDataMember>
				</app:Appearance>
			</app:appearance>
			<tran:lod1MultiSurface>
				<gml:MultiSurface gml:id="road">
					<gml:surfaceMember>
						<gml:Polygon gml:id="roundaboutPoly">
							<gml:exterior>
								<gml:LinearRing gml:id="raEx">
									<gml:posList srsDimension="3"> -8 20 5 -20 8 5 -20 -8 5 -8 -20 5 8 -20 5 20 -8 5 20 8 5 8 20 5
										-8 20 5 </gml:posList>
								</gml:LinearRing>
							</gml:exterior>
							<gml:interior>
								<gml:LinearRing gml:id="raIn">
									<gml:posList srsDimension="3"> -4 10 5 4 10 5 10 4 5 10 -4 5 4 -10 5 -4 -10 5 -10 -4 5 -10 4 5
										-4 10 5 </gml:posList>
								</gml:LinearRing>
							</gml:interior>
						</gml:Polygon>
					</gml:surfaceMember>
					<gml:surfaceMember>
						<gml:Polygon gml:id="roadPoly">
							<gml:exterior>
								<gml:LinearRing gml:id="roadEx">
									<gml:posList srsDimension="3"> 20 -4 5 45 -4 5 45 4 5 20 4 5 20 -4 5 </gml:posList>
								</gml:LinearRing>
							</gml:exterior>
						</gml:Polygon>
					</gml:surfaceMember>
					<gml:surfaceMember>
						<gml:Polygon gml:id="dirtPoly">
							<gml:exterior>
								<gml:LinearRing gml:id="dirtEx">
									<gml:posList srsDimension="3"> -20 -4 5 -45 -4 5 -45 4 5 -20 4 5 -20 -4 5 </gml:posList>
								</gml:LinearRing>
							</gml:exterior>
						</gml:Polygon>
					</gml:surfaceMember>
				</gml:MultiSurface>
			</tran:lod1MultiSurface>
		</tran:Road>
	</cityObjectMember>
</CityModel>
----


[[a_G-9]]
=== Example of a CityGML dataset illustrating the use of local coordinate reference systems

The following dataset demonstrates the use of local engineering coordinate
reference systems in CityGML. The dataset is based on the LOD1 example given in
<<a_G-2>>. The definition of the local CRS is encoded in the
_gml:metaDataProperty_ of the _CityModel_ element and describes a 3D Cartesian
reference system. Its origin corresponds to an anchor point which references a
point on the earth's surface (here: in Germany). This anchor point is defined in
the _EngineeringDatum_ element that is used by the local CRS, and is associated
with a compound 3D CRS which combines a Projected CRS (ETRS89 / UTM zone 32N;
EPSG code 25832) for the planimetry with a Vertical CRS (DHHN92 height, EPSG
code 5783) for the height reference. The _gml:Envelope_ of the _CityModel_
references the local CRS by its _gml:id "local-CRS-1"_&nbsp;and thus it is
inherited by all geometries in all properties of the _CityModel_ and members of
this feature collection. If required, the reference system may be overridden by
the members of the _CityModel_, for example, to provide a separate anchor point
for each city object.


[[listing_13]]
.CityGML dataset illustrating the use of local coordinate reference systems. The dataset is visualised in <<fig_76>>.
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<CityModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://www.opengis.net/citygml/2.0"
	xmlns:xAL="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:gml="http://www.opengis.net/gml"
	xmlns:dem="http://www.opengis.net/citygml/relief/2.0"
	xmlns:bldg="http://www.opengis.net/citygml/building/2.0"
	xsi:schemaLocation="http://www.opengis.net/citygml/building/2.0 http://schemas.opengis.net/citygml/building/2.0/building.xsd
											 http://www.opengis.net/citygml/relief/2.0 http://schemas.opengis.net/citygml/relief/2.0/relief.xsd ">
	<gml:metaDataProperty>
		<!-- Local EngineeringCRS definition contained specified inline as metadata in this XML instance. -->
		<!-- This CRS is referenced by geometry throughtout this instance by srsName value #local-CRS-1 -->
		<gml:EngineeringCRS xmlns:metadata="urn:x-ogp:spec:schema-xsd:localmetadata" gml:id="local-CRS-1">
			<gml:metaDataProperty>
				<metadata:CommonMetaData>
					<metadata:type>engineering</metadata:type>
				</metadata:CommonMetaData>
			</gml:metaDataProperty>
			<gml:srsName codeSpace="XYZ">urn:ogc:def:crs:local:CRS:1</gml:srsName>
			<gml:scope>CityGML</gml:scope>
			<gml:usesCS>
				<gml:CartesianCS gml:id="local-CS-1">
					<gml:metaDataProperty>
						<metadata:CommonMetaData>
							<metadata:type>Cartesian</metadata:type>
							<metadata:description>Cartesian 3D CS. Axes: UoM: m.</metadata:description>
						</metadata:CommonMetaData>
					</gml:metaDataProperty>
					<gml:csName codeSpace="XYZ">urn:ogc:def:crs:local:CS:1</gml:csName>
					<gml:usesAxis>
						<gml:CoordinateSystemAxis gml:id="local-axis-1" gml:uom="urn:ogc:def:uom:EPSG::9001">
							<gml:name/>
							<gml:axisID>
								<gml:name>X</gml:name>
							</gml:axisID>
							<gml:axisAbbrev>x</gml:axisAbbrev>
							<gml:axisDirection codeSpace="XYZ">X</gml:axisDirection>
						</gml:CoordinateSystemAxis>
					</gml:usesAxis>
					<gml:usesAxis>
						<gml:CoordinateSystemAxis gml:id="local-axis-2" gml:uom="urn:ogc:def:uom:EPSG::9001">
							<gml:name/>
							<gml:axisID>
								<gml:name>Y</gml:name>
							</gml:axisID>
							<gml:axisAbbrev>y</gml:axisAbbrev>
							<gml:axisDirection codeSpace="XYZ">Y</gml:axisDirection>
						</gml:CoordinateSystemAxis>
					</gml:usesAxis>
					<gml:usesAxis>
						<gml:CoordinateSystemAxis gml:id="local-axis-3" gml:uom="urn:ogc:def:uom:EPSG::9001">
							<gml:name/>
							<gml:axisID>
								<gml:name>Z</gml:name>
							</gml:axisID>
							<gml:axisAbbrev>z</gml:axisAbbrev>
							<gml:axisDirection codeSpace="XYZ">Z</gml:axisDirection>
						</gml:CoordinateSystemAxis>
					</gml:usesAxis>
				</gml:CartesianCS>
			</gml:usesCS>
			<gml:usesEngineeringDatum>
				<gml:EngineeringDatum gml:id="local-datum-1">
					<gml:metaDataProperty>
						<metadata:CommonMetaData>
							<metadata:type>Cartesian datum</metadata:type>
						</metadata:CommonMetaData>
					</gml:metaDataProperty>
					<gml:datumName codeSpace="XYZ">Datum1</gml:datumName>
					<gml:anchorPoint codeSpace="urn:ogc:def:crs,crs:EPSG::25832,crs:EPSG::5783">
							458868.0 5438343.0 	112.0</gml:anchorPoint>
					<!-- The anchor point defines the origin of the local CS with respect to the world CRS -->
					<!-- In this example, the anchor point references a point on the earth (in Germany) using a compound CRS -->
					<!-- For planimetry, the reference system ETRS89 / UTM zone 32N (EPSG code 25832) is used -->
					<!-- The vertical reference system is DHHN92 height (EPSG code 5783) -->
				</gml:EngineeringDatum>
			</gml:usesEngineeringDatum>
		</gml:EngineeringCRS>
	</gml:metaDataProperty>
	<gml:description>Simple example for a CityGML dataset using a local engineering CRS</gml:description>
	<gml:name>Simple 3D city model LOD1 without Appearance</gml:name>
	<gml:boundedBy>
		<gml:Envelope srsName="#local-CRS-1">
			<!-- Encoding of local-CRS-1 is specified in CityModel metadataProperty in this document-->
			<gml:pos srsDimension="3">0.0 0.0 0.0</gml:pos>
			<gml:pos srsDimension="3">24.0 19.0 4.0</gml:pos>
		</gml:Envelope>
	</gml:boundedBy>
	<cityObjectMember>
		<bldg:Building gml:id="GML_7b1a5a6f-ddad-4c3d-a507-3eb9ee0a8e68">
			<gml:name>Example Building LOD1 </gml:name>
			...   (Attributes see example LOD1)
			<bldg:lod1Solid>
				<gml:Solid>
					<gml:exterior>
						<gml:CompositeSurface gml:id="lod1Surface">
							<!-- Face Side 1 -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>7.0 7.0 0.0 17.0 7.0 0.0 17.0 7.0 4.0 7.0 7.0 4.0 7.0 7.0 0.0</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Side 2 -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>17.0 7.0 0.0 17.0 12.0 0.0 17.0 12.0 4.0 17.0 7.0 4.0 17.0 7.0 0.0</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Side 3 -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>17.0 12.0 0.0 7.0 12.0 0.0 7.0 12.0 4.0 17.0 12.0 4.0 17.0 12.0 0.0</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Side 4 -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>7.0 12.0 0.0 7.0 7.0 0.0 7.0 7.0 4.0 7.0 12.0 4.0 7.0 12.0 0.0</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Top -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>7.0 7.0 4.0 17.0 7.0 4.0 17.0 12.0 4.0 7.0 12.0 4.0 7.0 7.0 4.0</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
							<!-- Face Bottom -->
							<gml:surfaceMember>
								<gml:Polygon>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>7.0 7.0 0.0 7.0 12.0 0.0 17.0 12.0 0.0 17.0 7.0 0.0 7.0 7.0 0.0</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Polygon>
							</gml:surfaceMember>
						</gml:CompositeSurface>
					</gml:exterior>
				</gml:Solid>
			</bldg:lod1Solid>
			<bldg:address>
				<Address>
				...
				</Address>
			</bldg:address>
		</bldg:Building>
	</cityObjectMember>
	<cityObjectMember>
		<dem:ReliefFeature gml:id="GML_6bb30328-7599-4500-90ef-766fde6aa67b">
			<gml:name>Example TIN LOD1</gml:name>
			<dem:lod>1</dem:lod>
			<dem:reliefComponent>
				<dem:TINRelief gml:id="GUID_04D4DsNGv1MfvYu5O3lkcW">
					<gml:name>Ground</gml:name>
					<dem:lod>1</dem:lod>
					<dem:tin>
						<gml:TriangulatedSurface gml:id="ground">
							<gml:trianglePatches>
								<gml:Triangle>
									<gml:exterior>
										<gml:LinearRing>
											<gml:posList>0.0 19.0 0.0 7.0 12.0 0.0 15.0 19.0 2.0 0.0 19.0 0.0</gml:posList>
										</gml:LinearRing>
									</gml:exterior>
								</gml:Triangle>
								<gml:Triangle>
									...
								</gml:Triangle>
									... (more triangles)
							</gml:trianglePatches>
						</gml:TriangulatedSurface>
					</dem:tin>
				</dem:TINRelief>
			</dem:reliefComponent>
		</dem:ReliefFeature>
	</cityObjectMember>
</CityModel>
----

